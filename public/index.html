<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />

    <meta name="html_build_time" content="<%= buildTime %>" />

    <title>ETF Matcher - Find the Best ETFs for Your Investment Goals</title>
    <meta
      name="description"
      content="Customize a virual portfolio and find ETFs that match your strategy, leveraging machine learning to analyze 10-K statements and financial disclosures for stocks and ETFs."
    />
    <meta
      name="keywords"
      content="ETF Matcher, exchange-traded funds, ETF search, virtual portfolio, fractional shares, investment goals, ETFs, portfolio customization, ETF comparison, online trading, investment management, ETF selection, investment tool, customize portfolio, find ETFs, machine learning"
    />
    <meta
      name="author"
      content="Jeremy Harris, jeremy.harris@zenosmosis.com, GitHub: https://github.com/jzombie/etf-matcher/"
    />
    <meta name="repository" content="https://github.com/jzombie/etf-matcher/" />
    <link rel="repository" href="https://github.com/jzombie/etf-matcher/" />
    <meta
      property="og:see_also"
      content="https://github.com/jzombie/etf-matcher/"
    />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/static/etf-matcher-logo-bw-180x180.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/static/etf-matcher-logo-bw-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/static/etf-matcher-logo-bw-16x16.png"
    />
    <link rel="manifest" href="/manifest.json" />

    <!-- Open Graph Meta Tags -->
    <meta
      property="og:title"
      content="ETF Matcher - Find the Best ETFs for Your Investment Goals"
    />
    <meta
      property="og:description"
      content="Customize a virual portfolio and find ETFs that match your strategy, leveraging machine learning to analyze 10-K statements and financial disclosures for stocks and ETFs."
    />
    <meta
      property="og:image"
      content="https://etfmatcher.com/static/etf-matcher-logo-bw-1200x630.png"
    />
    <meta property="og:url" content="https://etfmatcher.com" />
    <meta property="og:type" content="website" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="ETF Matcher - Find the Best ETFs for Your Investment Goals"
    />
    <meta
      name="twitter:description"
      content="Customize a virual portfolio and find ETFs that match your strategy, leveraging machine learning to analyze 10-K statements and financial disclosures for stocks and ETFs."
    />
    <meta
      name="twitter:image"
      content="https://etfmatcher.com/static/etf-matcher-logo-bw-1200x628.png"
    />
    <!--
      <meta name="twitter:site" content="@your_twitter_handle" />
    -->

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "ETF Matcher",
        "url": "https://etfmatcher.com",
        "repository": "https://github.com/jzombie/etf-matcher/",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://etfmatcher.com/search?query={search_term_string}",
          "query-input": "required name=search_term_string"
        }
      }
    </script>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "url": "https://etfmatcher.com",
        "logo": "https://etfmatcher.com/static/etf-matcher-logo-bw-250x250.png"
      }
    </script>

    <!-- Very simple no-cache mechanism. This may need to be improved if making the app a PWA. -->
    <script>
      (function () {
        const NO_CACHE_KEY = "no_cache";

        function getQueryParam(name) {
          const urlParams = new URLSearchParams(window.location.search);
          return urlParams.get(name);
        }

        function setQueryParam(name, value) {
          const url = new URL(window.location);
          url.searchParams.set(name, value);
          window.history.replaceState(null, "", url.toString());
        }

        function removeQueryParam(name) {
          const url = new URL(window.location);
          url.searchParams.delete(name);
          window.history.replaceState(null, "", url.toString());
        }

        const noCacheParam = getQueryParam(NO_CACHE_KEY);
        const now = Math.floor(Date.now() / 1000);

        if (noCacheParam) {
          const timestamp = parseInt(noCacheParam, 10);
          if (isNaN(timestamp) || now - timestamp > 10) {
            setQueryParam(NO_CACHE_KEY, now);
            window.location.reload(true); // Force reload with new parameter
          } else {
            removeQueryParam(NO_CACHE_KEY);
            console.debug("Loaded with skip-cache");
          }
        } else {
          setQueryParam(NO_CACHE_KEY, now);
          window.location.reload(true); // Force reload with new parameter
        }
      })();
    </script>

    <!-- Conditionally include Google Analytics script -->
    <script type="module">
      if (!import.meta.env.DEV) {
        if (import.meta.env.VITE_GOOGLE_ANALYTICS_ID) {
          const script = document.createElement("script");
          script.async = true;
          script.src = `https://www.googletagmanager.com/gtag/js?id=${
            import.meta.env.VITE_GOOGLE_ANALYTICS_ID
          }`;
          document.head.appendChild(script);

          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag("js", new Date());
          gtag("config", import.meta.env.VITE_GOOGLE_ANALYTICS_ID);

          window._gtag = gtag;
        } else {
          console.warn("`GOOGLE_ANALYTICS_ID` is not available");
        }
      }
    </script>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <style>
      /* styles.css or a similar global stylesheet */
      html,
      body,
      #app {
        height: 100%;
        margin: 0;
        padding: 0;
        background-color: #121212;
        overflow: hidden;
        /* box-sizing: border-box; */
      }

      /* Render noscript front and center */
      noscript.modal {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        width: 100%;
        position: fixed;
        top: 0;
        left: 0;
        background: #121212;
        color: #ccc;
        font-weight: bold;
        font-size: 2em;
        text-align: center;
      }

      noscript.modal .small {
        font-size: 1rem;
        max-width: 70vw;
        margin: 2rem auto;
      }

      noscript.modal .small a {
        color: inherit;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <noscript>
        Customize a virual portfolio and find ETFs that match your strategy,
        leveraging machine learning to analyze 10-K statements and financial
        disclosures for stocks and ETFs.

        <div>
          Disclaimer: The information provided on this platform is for
          informational purposes only and does not constitute financial,
          investment, or other professional advice. You should not rely on this
          information to make any investment decisions. Always consult with a
          qualified financial advisor before making any investment decisions. We
          do not guarantee the accuracy, completeness, or timeliness of any
          information provided and shall not be held liable for any errors or
          omissions, or for any loss or damage incurred as a result of using
          this information.
        </div>
      </noscript>
    </div>
    <noscript class="modal"
      ><div>
        JavaScript must be enabled to use this application.

        <p class="small">
          ETF Matcher leverages advanced machine learning algorithms and linear
          algebra, processed through Rust compiled to WebAssembly (WASM),
          executed via a Web Worker thread for optimal performance. Please
          enable JavaScript to experience the full functionality.
        </p>

        <p class="small">
          View the source code on
          <a href="https://github.com/jzombie/etf-matcher/">GitHub</a>.
        </p>
      </div>
    </noscript>
    <script type="module" src="./src/main.tsx"></script>
  </body>
</html>
